{
  "azureAD": {
    "authority": "https://login.microsoftonline.com/${AZURE_AD_TENANT_ID}",
    "clientId": "${AZURE_AD_CLIENT_ID}",
    "clientSecret": "${AZURE_AD_CLIENT_SECRET}",
    "redirectUri": "${AZURE_AD_REDIRECT_URI}",
    "scopes": [
      "openid",
      "profile",
      "email",
      "User.Read",
      "GroupMember.Read.All"
    ],
    "responseType": "code",
    "responseMode": "query"
  },
  "authentication": {
    "sessionTimeout": 1800,
    "refreshTokenExpiry": 3600,
    "requireMFA": true,
    "allowedDomains": [
      "hospital.org",
      "health.hospital.org"
    ]
  },
  "groupMapping": {
    "Healthcare_IT_L1": {
      "displayName": "Healthcare IT Support Level 1",
      "description": "Level 1 help desk agents",
      "permissions": {
        "mcp": ["search_knowledge_base", "get_knowledge_article"],
        "dataAccess": ["public", "internal"],
        "features": ["basic_search", "article_view"]
      }
    },
    "Healthcare_IT_L2": {
      "displayName": "Healthcare IT Support Level 2",
      "description": "Level 2 senior technicians",
      "permissions": {
        "mcp": ["search_knowledge_base", "get_knowledge_article", "search_by_category", "get_categories"],
        "dataAccess": ["public", "internal", "confidential"],
        "features": ["advanced_search", "article_view", "troubleshooting_tools"]
      }
    },
    "Healthcare_IT_Admin": {
      "displayName": "Healthcare IT Administrators",
      "description": "IT administrators and managers",
      "permissions": {
        "mcp": ["*"],
        "dataAccess": ["public", "internal", "confidential", "restricted"],
        "features": ["*"]
      }
    },
    "Healthcare_Security": {
      "displayName": "Healthcare Security Team",
      "description": "Information security and compliance team",
      "permissions": {
        "mcp": ["*"],
        "dataAccess": ["*"],
        "features": ["*"],
        "admin": ["audit_logs", "security_reports", "compliance_monitoring"]
      }
    },
    "Healthcare_Physicians": {
      "displayName": "Healthcare Physicians",
      "description": "Medical doctors and physicians",
      "permissions": {
        "mcp": ["search_knowledge_base", "get_knowledge_article"],
        "dataAccess": ["public", "internal"],
        "features": ["clinical_search", "patient_care_procedures"]
      }
    },
    "Healthcare_Nurses": {
      "displayName": "Healthcare Nurses",
      "description": "Registered nurses and nursing staff",
      "permissions": {
        "mcp": ["search_knowledge_base", "get_knowledge_article"],
        "dataAccess": ["public", "internal"],
        "features": ["nursing_procedures", "medication_administration"]
      }
    }
  },
  "claims": {
    "required": [
      "name",
      "email",
      "groups",
      "upn"
    ],
    "optional": [
      "department",
      "title",
      "employee_id",
      "license_number"
    ]
  },
  "security": {
    "tokenValidation": {
      "validateIssuer": true,
      "validateAudience": true,
      "validateLifetime": true,
      "validateSignature": true,
      "clockSkew": 300
    },
    "sessionManagement": {
      "httpOnly": true,
      "secure": true,
      "sameSite": "strict",
      "maxAge": 1800
    },
    "auditLogging": {
      "enabled": true,
      "logAuthenticationEvents": true,
      "logAuthorizationEvents": true,
      "logTokenEvents": true,
      "retentionDays": 365
    }
  },
  "mockMode": {
    "enabled": true,
    "testUsers": [
      {
        "username": "helpdesk.agent@hospital.org",
        "displayName": "Help Desk Agent",
        "email": "helpdesk.agent@hospital.org",
        "groups": ["Healthcare_IT_L1"],
        "department": "IT Support",
        "title": "Help Desk Agent",
        "employee_id": "EMP001",
        "objectId": "mock-user-001"
      },
      {
        "username": "senior.tech@hospital.org",
        "displayName": "Senior IT Tech",
        "email": "senior.tech@hospital.org",
        "groups": ["Healthcare_IT_L2"],
        "department": "IT Support",
        "title": "Senior IT Technician",
        "employee_id": "EMP002",
        "objectId": "mock-user-002"
      },
      {
        "username": "it.admin@hospital.org",
        "displayName": "IT Administrator",
        "email": "it.admin@hospital.org",
        "groups": ["Healthcare_IT_Admin"],
        "department": "IT Administration",
        "title": "IT Administrator",
        "employee_id": "EMP003",
        "objectId": "mock-user-003"
      },
      {
        "username": "security.admin@hospital.org",
        "displayName": "Security Administrator",
        "email": "security.admin@hospital.org",
        "groups": ["Healthcare_Security"],
        "department": "Information Security",
        "title": "Security Administrator",
        "employee_id": "EMP004",
        "objectId": "mock-user-004"
      },
      {
        "username": "dr.smith@hospital.org",
        "displayName": "Dr. John Smith",
        "email": "dr.smith@hospital.org",
        "groups": ["Healthcare_Physicians"],
        "department": "Emergency Medicine",
        "title": "Emergency Medicine Physician",
        "employee_id": "PHY001",
        "license_number": "MD123456",
        "objectId": "mock-user-005"
      },
      {
        "username": "nurse.jones@hospital.org",
        "displayName": "Sarah Jones, RN",
        "email": "nurse.jones@hospital.org",
        "groups": ["Healthcare_Nurses"],
        "department": "Medical Surgical",
        "title": "Registered Nurse",
        "employee_id": "RN001",
        "license_number": "RN789012",
        "objectId": "mock-user-006"
      }
    ]
  },
  "compliance": {
    "hipaa": {
      "enabled": true,
      "auditAllAccess": true,
      "minimumNecessary": true,
      "accessLogging": true
    },
    "soc2": {
      "enabled": true,
      "typeII": true,
      "controls": ["CC6.1", "CC6.2", "CC6.3", "CC6.7"]
    },
    "gdpr": {
      "enabled": false,
      "dataProcessingLegal": "legitimate_interest",
      "dataRetentionDays": 365
    }
  },
  "logging": {
    "level": "info",
    "auditEvents": [
      "login_success",
      "login_failure",
      "logout",
      "token_refresh",
      "authorization_granted",
      "authorization_denied",
      "group_membership_checked",
      "data_access_granted",
      "data_access_denied"
    ],
    "destinations": [
      {
        "type": "file",
        "path": "./logs/auth-audit.log",
        "format": "json"
      },
      {
        "type": "syslog",
        "host": "siem.hospital.org",
        "port": 514,
        "facility": "local0"
      }
    ]
  }
} 